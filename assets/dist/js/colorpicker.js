import{_ as a}from"./addable-box.js";import{e as s}from"./general.js";(function(r){class h{constructor(c){this.$_colorpicker=c,this._initColorpicker().then(()=>{}).catch(t=>{console.error(t)})}async _initColorpicker(){const c=this;try{const{dhtInitColorpicker:t}=await a(async()=>{const{dhtInitColorpicker:n}=await import("./colorpicker-utilities.js");return{dhtInitColorpicker:n}},[]);this.$_colorpicker.find(".dht-colorpicker").each(function(){t(r(this)),c._liveEditing(r(this)).then(()=>{}).catch(n=>{console.error(n)})})}catch(t){s(t)}}async _liveEditing(c){if((this.$_colorpicker.attr("data-live-selectors")??"").length)try{let t=function(e,o,i){r(o).css({[e]:i})};const{dhtApplyChangesForKeyedSelectors:n,dhtRestoreElementDefaultValues:p,dhtGetDefaultValue:d}=await a(async()=>{const{dhtApplyChangesForKeyedSelectors:e,dhtRestoreElementDefaultValues:o,dhtGetDefaultValue:i}=await import("./live-editing.js");return{dhtApplyChangesForKeyedSelectors:e,dhtRestoreElementDefaultValues:o,dhtGetDefaultValue:i}},[]),{dhtOnChangeColorpicker:_}=await a(async()=>{const{dhtOnChangeColorpicker:e}=await import("./colorpicker-utilities.js");return{dhtOnChangeColorpicker:e}},[]);n(this.$_colorpicker,(e,o,i)=>{o==="style"&&_(c,u=>{t(e,i,u)})},(e,o,i)=>{o==="style"&&p(this.$_colorpicker,()=>{t(e,i,d(this.$_colorpicker))})})}catch(t){s(t)}}}function l(){r(".dht-field-wrapper-colorpicker").each(function(){new h(r(this))})}r(function(){l()}),r(document).on("dht_colorPickerAjaxComplete",function(){l()})})(jQuery);
