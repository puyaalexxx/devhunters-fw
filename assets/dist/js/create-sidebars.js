(function(e){class a{constructor(){this._widgetArea=e("#widgets-right"),this._widgetTemplate=e("#dht-wrap"),this._customSidebar=this._widgetArea.find(".sidebar-dht-custom"),this._deleteButton=e(".dht-wrap-delete"),this._addFormHtml(),this._addDelButton(),this._bindEvents(),this.deleteSidebarAjax()}_addFormHtml(){this._widgetArea.after(this._widgetTemplate),this._widgetTemplate.show()}_addDelButton(){let t=this;this._customSidebar.each(function(){let i=t._deleteButton.clone();jQuery(this).find(".widgets-sortables").append(i),i.show()})}_bindEvents(){this._customSidebar.find(".dht-widget-area-delete").on("click",function(){e(this).parents(".dht-wrap-delete").find(".dht-widget-area-delete-cancel, .dht-widget-area-delete-confirm").show(),e(this).hide()}),this._customSidebar.find(".dht-widget-area-delete-cancel").on("click",function(){e(this).parents(".dht-wrap-delete").find(".dht-widget-area-delete").show(),e(this).hide(),e(this).siblings(".dht-widget-area-delete-confirm").hide()})}deleteSidebarAjax(){this._customSidebar.find(".dht-widget-area-delete-confirm").on("click",function(){let t=e(this).parents(".sidebar-dht-custom"),i=t.find(".sidebar-name .spinner"),s=t.children(".widgets-sortables").attr("id");return e.ajax({url:dht_framework_info.ajax_url,type:"POST",data:{action:"deleteWidgetArea",data:{sidebar_id:s}},beforeSend:function(){i.css("visibility","visible")},success:function(d){d.success?location.reload():console.log("Ajax Response",d)},error:function(d){console.error("AJAX error:",d)}}),!1})}}e(function(){new a})})(jQuery);
