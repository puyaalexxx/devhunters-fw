import{_ as h}from"./addable-box.js";import{e as c}from"./general.js";(function(o){class a{constructor(n){this.$_dropdown=n,this._liveEditing().then(()=>{}).catch(i=>{console.error(i)})}async _liveEditing(){if((this.$_dropdown.attr("data-live-selectors")??"").length)try{let n=function(e,t,r,d){e==="style"?o(t).css({[r]:d}):e==="display"&&(r==d?o(t).show():o(t).hide())};const{dhtApplyChangesForKeyedSelectors:i,dhtRestoreElementDefaultValues:l}=await h(async()=>{const{dhtApplyChangesForKeyedSelectors:e,dhtRestoreElementDefaultValues:t}=await import("./live-editing.js");return{dhtApplyChangesForKeyedSelectors:e,dhtRestoreElementDefaultValues:t}},[]);i(this.$_dropdown,(e,t,r)=>{this.$_dropdown.on("change",".dht-dropdown",function(){n(t,r,e,String(o(this).val()))})},(e,t,r)=>{const d=String(this.$_dropdown.find(".dht-dropdown").val());l(this.$_dropdown,()=>{n(t,r,e,d)})})}catch(n){c(n)}}}function s(){o(".dht-field-wrapper-dropdown").each(function(){new a(o(this))})}o(function(){s()}),o(document).on("dht_dropdownAjaxComplete",function(){s()})})(jQuery);
