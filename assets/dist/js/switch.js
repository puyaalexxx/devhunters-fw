import{_ as o}from"./addable-box.js";import{e as u}from"./general.js";(function(s){class d{constructor(e){this.$_switch=e,this._initSwitch()}_initSwitch(){const e=this;e.$_switch.off("click",".dht-switch"),e.$_switch.on("click",".dht-switch",function(){const t=s(this),r=t.children("input");if(t.hasClass("dht-slider-on")){t.removeClass("dht-slider-on").addClass("dht-slider-off");let h=t.children(".dht-slider").children(".dht-slider-no").attr("data-value");r.val(h),e._liveEditing(h).then(()=>{}).catch(a=>{console.error(a)})}else{t.removeClass("dht-slider-off").addClass("dht-slider-on");let h=t.children(".dht-slider").children(".dht-slider-yes").attr("data-value");r.val(h),e._liveEditing(h).then(()=>{}).catch(a=>{console.error(a)})}})}async _liveEditing(e){if((this.$_switch.attr("data-live-selectors")??"").length)try{let t=function(i,l,n){l===n?s(i).show():s(i).hide()};const{dhtApplyChangesForKeyedSelectors:r,dhtRestoreElementDefaultValues:h,dhtGetDefaultValue:a}=await o(async()=>{const{dhtApplyChangesForKeyedSelectors:i,dhtRestoreElementDefaultValues:l,dhtGetDefaultValue:n}=await import("./live-editing.js");return{dhtApplyChangesForKeyedSelectors:i,dhtRestoreElementDefaultValues:l,dhtGetDefaultValue:n}},[]);r(this.$_switch,(i,l,n)=>{l==="display"&&t(n,i,e)},(i,l,n)=>{l==="display"&&h(this.$_switch,()=>{t(n,i,a(this.$_switch))})})}catch(t){u(t)}}}function c(){s(".dht-field-wrapper-switch").each(function(){new d(s(this))})}s(function(){c()}),s(document).on("dht_switchtAjaxComplete",function(){c()})})(jQuery);
