import{_ as c}from"./addable-box.js";import{e as h}from"./general.js";(function(a){class s{constructor(r){this.$_textarea=r,this._liveEditing().then(()=>{}).catch(n=>{console.error(n)})}async _liveEditing(){if((this.$_textarea.attr("data-live-selectors")??"").length)try{let r=function(t,e,i){t==="content"&&a(e).text(i)};const{dhtApplyChangesForNotKeyedSelectors:n,dhtRestoreElementDefaultValues:l}=await c(async()=>{const{dhtApplyChangesForNotKeyedSelectors:t,dhtRestoreElementDefaultValues:e}=await import("./live-editing.js");return{dhtApplyChangesForNotKeyedSelectors:t,dhtRestoreElementDefaultValues:e}},[]);n(this.$_textarea,(t,e)=>{this.$_textarea.on("input change",".dht-textarea",function(){r(t,e,String(a(this).val()))})},(t,e)=>{const i=String(this.$_textarea.find(".dht-textarea").val());l(this.$_textarea,()=>{r(t,e,i)})})}catch(r){h(r)}}}function o(){a(".dht-field-wrapper-textarea").each(function(){new s(a(this))})}a(function(){o()}),a(document).on("dht_textareaAjaxComplete",function(){o()})})(jQuery);
