"use strict";(self.webpackChunkdevhunters_fw=self.webpackChunkdevhunters_fw||[]).push([[6687],{1806:(e,t,d)=>{d.r(t);var i,o,a=d(1669);i=d.n(a)(),o=function(){function e(e){this.$_addable_box=e,this._initAddableBox()}return e.prototype._initAddableBox=function(){this._addBoxItem(),this._removeBoxItem(),this._openCloseBoxItem(),this._changeBoxTitleOnKeyUp(),this._enableSortableBoxes()},e.prototype._addBoxItem=function(){var e=this;this.$_addable_box.on("click",".dht-addable-box-repeater .dht-add-box-item",(function(t){t.preventDefault();var d=i(this),o=d.siblings(".dht-addable-box-items");if(!e._maxBoxItems(o)){d.addClass("dht-btn-disabled");var a=o.children(":last"),l=a.clone().attr("data-box-item-number",+a.attr("data-box-item-number")+1),n=l.children(".dht-addable-box-content"),r=l.children(".dht-addable-box-title");r.removeClass("dht-addable-box-active").children(".dht-addable-box-arrow").removeClass("dht-addable-box-icon-change"),n.empty().hide();var h=r.children(".dht-addable-box-title-text");h.text(h.attr("data-default-title")),e._ajaxLoadOptions(o,d,l,n,r)}}))},e.prototype._removeBoxItem=function(){this.$_addable_box.on("click",".dht-addable-box-repeater .dht-btn-remove-box-item",(function(e){e.preventDefault();var t=i(this).parents(".dht-addable-box-item"),d=t.parents(".dht-addable-box-repeater");if(1!==d.children(".dht-addable-box-items").children(".dht-addable-box-item").length)return t.remove(),!1;confirm(d.children(".dht-box-remove-text").text())}))},e.prototype._openCloseBoxItem=function(){var e=this;this.$_addable_box.on("click",".dht-addable-box .dht-addable-box-title",(function(t){t.preventDefault();var d=i(this);if(!d.hasClass("dht-addable-box-active")){var o=d.parent(".dht-addable-box-item");e._boxItemsManipulations(o,d)}}))},e.prototype._changeBoxTitleOnKeyUp=function(){this.$_addable_box.on("keyup",".dht-addable-box-repeater .dht-addable-box-item .dht-box-title",(function(e){var t=i(this).val();i(this).parents(".dht-addable-box-content").siblings(".dht-addable-box-title").children(".dht-addable-box-title-text").text(t)}))},e.prototype._enableSortableBoxes=function(){this.$_addable_box.hasClass("dht-field-child-addable-box-sortable")&&this.$_addable_box.children(".dht-addable-box-repeater").children(".dht-addable-box-items").sortable({containment:"parent",forcePlaceholderSize:!0,handle:".dht-addable-box-title",placeholder:"sortable-placeholder"})},e.prototype._ajaxLoadOptions=function(e,t,d,o,a){var l=this;i.ajax({url:dht_framework_ajax_info.ajax_url,type:"POST",dataType:"json",data:{action:"getBoxOptions",data:{group:t.siblings(".dht-box-item-options").val(),box_number:d.attr("data-box-item-number")}},beforeSend:function(){t.siblings(".spinner").css("visibility","visible")},success:function(t){t.success?(e.append(d),o.append(t.data),setTimeout((function(){l._reinitializeOptions(o)}),100),l._boxItemsManipulations(d,a)):console.error("Ajax Response",t)},error:function(e){console.error("AJAX error:",e)},complete:function(){t.siblings(".spinner").css("visibility","hidden"),t.removeClass("dht-btn-disabled")}})},e.prototype._maxBoxItems=function(e){return+e.attr("data-max-box-items")>=e.length&&(confirm(e.siblings(".dht-max-box-items").text()),!0)},e.prototype._boxItemsManipulations=function(e,t){var d=e.siblings(".dht-addable-box-item"),i=d.children(".dht-addable-box-title");i.removeClass("dht-addable-box-active"),i.children(".dht-addable-box-arrow").removeClass("dht-addable-box-icon-change"),d.children(".dht-addable-box-content").slideUp(400),t.toggleClass("dht-addable-box-active"),t.next().slideToggle(),t.children(".dht-addable-box-arrow").toggleClass("dht-addable-box-icon-change")},e.prototype._reinitializeOptions=function(e){e.find(".dht-field-child-toggle").length&&i(document).trigger("dht_toggleAjaxComplete"),(e.find(".dht-field-child-colorpicker").length||e.find(".dht-field-child-borders").length)&&i(document).trigger("dht_colorPickerAjaxComplete"),e.find(".dht-field-child-code-editor").length&&i(document).trigger("dht_aceEditorAjaxComplete"),e.find(".dht-field-child-datepicker").length&&i(document).trigger("dht_datePickerAjaxComplete"),e.find(".dht-field-child-datetimepicker").length&&i(document).trigger("dht_dateTimePickerAjaxComplete"),e.find(".dht-field-child-timepicker").length&&i(document).trigger("dht_timePickerAjaxComplete"),e.find(".dht-field-child-rangeslider").length&&i(document).trigger("dht_rangeSliderAjaxComplete"),e.find(".dht-field-child-multioptions").length&&i(document).trigger("dht_multiOptionsAjaxComplete"),e.find(".dht-field-child-upload-item").length&&i(document).trigger("dht_uploadAjaxComplete"),e.find(".dht-field-child-upload-image").length&&i(document).trigger("dht_uploadImageAjaxComplete"),e.find(".dht-field-child-upload-gallery").length&&i(document).trigger("dht_uploadGalleryAjaxComplete"),e.find(".dht-field-child-typography").length&&i(document).trigger("dht_typographyAjaxComplete"),e.find(".dht-field-child-switch").length&&i(document).trigger("dht_switchtAjaxComplete"),e.find(".dht-field-child-image-select").length&&i(document).trigger("dht_radioImageAjaxComplete"),e.find(".dht-field-child-multiinput").length&&i(document).trigger("dht_multiInputAjaxComplete"),e.find(".dht-field-child-icons").length&&i(document).trigger("dht_iconAjaxComplete"),this._reinitializeWPEditor(e)},e.prototype._reinitializeWPEditor=function(e){e.find("textarea.wp-editor-area").each((function(){if("undefined"!=typeof wp&&void 0!==wp.editor){var e=i(this).attr("id");void 0!==wp.editor&&void 0!==e&&(wp.editor.remove(e),wp.editor.initialize(e,{tinymce:{wpautop:!0,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"formatselect bold italic bullist numlist blockquote alignleft aligncenter alignright link wp_more wp_adv",toolbar2:"strikethrough hr forecolor pastetext removeformat charmap outdent indent undo redo wp_help"},quicktags:{id:e,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,more,close"},mediaButtons:!0}))}}))},e}(),i(".dht-field-wrapper .dht-field-child-addable-box").each((function(){new o(i(this))}))}}]);
//# sourceMappingURL=addable-box.js.map